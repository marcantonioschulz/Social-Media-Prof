#\!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Color output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo "${YELLOW}ğŸ” Running pre-commit checks...${NC}"

# Test Backend Build
echo "${YELLOW}ğŸ“¦ Building backend...${NC}"
cd backend
if \! npm run build; then
  echo "${RED}âŒ Backend build failed\! Fix TypeScript errors before committing.${NC}"
  exit 1
fi
echo "${GREEN}âœ… Backend build successful${NC}"
cd ..

# Test Frontend Build
echo "${YELLOW}ğŸ“¦ Building frontend...${NC}"
cd frontend
if \! npm run build; then
  echo "${RED}âŒ Frontend build failed\! Fix TypeScript errors before committing.${NC}"
  exit 1
fi
echo "${GREEN}âœ… Frontend build successful${NC}"
cd ..

echo "${GREEN}âœ¨ All checks passed\! Proceeding with commit...${NC}"
